!function(){document.addEventListener("DOMContentLoaded",function(){function a(){s=0;var a=!0;$.each(t,function(n,o){if($(this).is(".icon-right")){s+=c[n].price*c[n].num,e.html("("+s+")"),a=!1;var i=$("#affirm");i.on("tap",function(){$(this).attr({href:"indent.html"})})}}),a&&e.html("")}var n,s=0,o=$(".classify"),i=$(".navmorelist"),t=$(".gouxuan"),l=$(".quanxuan");o.on("singleTap",function(){i.toggle()});var d=$(".list_Ul"),c=localStorage.getItem("goodlist");c=c?JSON.parse(c):[],$.each(c,function(s,o){var i=$("<li></li>").addClass("list_Li"),t=$("<div></div>").addClass("list_box"),e=$("<div></div>").addClass("list_box1"),p=$("<div></div>").addClass("list_box2"),r=$("<div></div>").addClass("list_box3"),h=$("<span></span>").addClass("iconfont icon-yuan gouxuan"),u=$("<img/>").attr("src",o.src).addClass("myImg"),m=$("<span></span>").html(o.title).addClass("list_box2_name"),g=$("<span></span>").html("&yen"+o.price).addClass("list_box2_prices"),f=$("<span></span>").addClass("iconfont icon-jianhao jian"),C=$("<span></span>").addClass("quantity").html(o.num),v=$("<span></span>").addClass("iconfont iconfont icon-jiahao jia"),y=$("<span></span>").addClass("iconfont iconfont icon-lajixiang shan_chu");h.appendTo(e),u.appendTo(p),m.appendTo(p),g.appendTo(p),f.appendTo(r),C.appendTo(r),v.appendTo(r),y.appendTo(r),e.appendTo(t),p.appendTo(t),r.appendTo(t),t.appendTo(i),i.appendTo(d);$(".total_prices");v.on("tap",function(){C.html(parseInt(C.html())+1),v.css("background-color","#595959"),n=parseInt(C.html()),c[s].num=parseInt(C.html()),localStorage.setItem("goodlist",JSON.stringify(c)),a()}),f.on("tap",function(){C.html()<=1?(1==C.html(),f.css("background-color","#FFFFFF")):(f.css("background-color","#595959"),v.css("background-color","#FFFFFF"),C.html(parseInt(C.html())-1),n=parseInt(C.html())),c[s].num=parseInt(C.html()),localStorage.setItem("goodlist",JSON.stringify(c)),a()}),h.on("tap",function(){$(this).is(".icon-yuan")?($(this).removeClass("icon-yuan"),$(this).addClass("icon-right")):($(this).addClass("icon-yuan"),$(this).removeClass("icon-right"),l.addClass("icon-yuan"),l.removeClass("icon-right")),a()}),y.on("tap",function(){c.splice(s,1),localStorage.setItem("goodlist",JSON.stringify(c)),i.remove()})});var e=$(".total_prices"),t=$(".gouxuan"),l=$(".quanxuan");l.on("tap",function(){l.is(".icon-yuan")?($(this).removeClass("icon-yuan"),$(this).addClass("icon-right"),$.each(t,function(a,n){$(this).removeClass("icon-yuan"),$(this).addClass("icon-right")}),a()):($(this).addClass("icon-yuan"),$(this).removeClass("icon-right"),$.each(t,function(a,n){t.addClass("icon-yuan"),t.removeClass("icon-right")}),a())})})}();